#!/usr/bin/env bash

set -Eeuxo pipefail

    docker pull 'nickblah/postgis:12.1-postgis-3.0.0' || true && docker build --pull --cache-from 'nickblah/postgis:12.1-postgis-3.0.0' --tag 'nickblah/postgis:12.1-postgis-3.0.0' --tag 'nickblah/postgis:12.1-postgis-3.0' --tag 'nickblah/postgis:12.1-postgis-3' --tag 'nickblah/postgis:12-postgis-3.0.0' --tag 'nickblah/postgis:12-postgis-3.0' --tag 'nickblah/postgis:12-postgis-3' --tag 'nickblah/postgis:latest' --file 12/postgis-3/Dockerfile .
    docker pull 'nickblah/postgis:12.1-postgis-2.5.3' || true && docker build --pull --cache-from 'nickblah/postgis:12.1-postgis-2.5.3' --tag 'nickblah/postgis:12.1-postgis-2.5.3' --tag 'nickblah/postgis:12.1-postgis-2.5' --tag 'nickblah/postgis:12.1-postgis-2' --tag 'nickblah/postgis:12-postgis-2.5.3' --tag 'nickblah/postgis:12-postgis-2.5' --tag 'nickblah/postgis:12-postgis-2' --file 12/postgis-2.5/Dockerfile .
    docker pull 'nickblah/postgis:11.6-postgis-3.0.0' || true && docker build --pull --cache-from 'nickblah/postgis:11.6-postgis-3.0.0' --tag 'nickblah/postgis:11.6-postgis-3.0.0' --tag 'nickblah/postgis:11.6-postgis-3.0' --tag 'nickblah/postgis:11.6-postgis-3' --tag 'nickblah/postgis:11-postgis-3.0.0' --tag 'nickblah/postgis:11-postgis-3.0' --tag 'nickblah/postgis:11-postgis-3' --file 11/postgis-3/Dockerfile .
    docker pull 'nickblah/postgis:11.6-postgis-2.5.3' || true && docker build --pull --cache-from 'nickblah/postgis:11.6-postgis-2.5.3' --tag 'nickblah/postgis:11.6-postgis-2.5.3' --tag 'nickblah/postgis:11.6-postgis-2.5' --tag 'nickblah/postgis:11.6-postgis-2' --tag 'nickblah/postgis:11-postgis-2.5.3' --tag 'nickblah/postgis:11-postgis-2.5' --tag 'nickblah/postgis:11-postgis-2' --file 11/postgis-2.5/Dockerfile .
    docker pull 'nickblah/postgis:10.11-postgis-3.0.0' || true && docker build --pull --cache-from 'nickblah/postgis:10.11-postgis-3.0.0' --tag 'nickblah/postgis:10.11-postgis-3.0.0' --tag 'nickblah/postgis:10.11-postgis-3.0' --tag 'nickblah/postgis:10.11-postgis-3' --tag 'nickblah/postgis:10-postgis-3.0.0' --tag 'nickblah/postgis:10-postgis-3.0' --tag 'nickblah/postgis:10-postgis-3' --file 10/postgis-3/Dockerfile .
    docker pull 'nickblah/postgis:10.11-postgis-2.5.3' || true && docker build --pull --cache-from 'nickblah/postgis:10.11-postgis-2.5.3' --tag 'nickblah/postgis:10.11-postgis-2.5.3' --tag 'nickblah/postgis:10.11-postgis-2.5' --tag 'nickblah/postgis:10.11-postgis-2' --tag 'nickblah/postgis:10-postgis-2.5.3' --tag 'nickblah/postgis:10-postgis-2.5' --tag 'nickblah/postgis:10-postgis-2' --file 10/postgis-2.5/Dockerfile .
    docker pull 'nickblah/postgis:10.11-postgis-2.4.4' || true && docker build --pull --cache-from 'nickblah/postgis:10.11-postgis-2.4.4' --tag 'nickblah/postgis:10.11-postgis-2.4.4' --tag 'nickblah/postgis:10.11-postgis-2.4' --tag 'nickblah/postgis:10-postgis-2.4.4' --tag 'nickblah/postgis:10-postgis-2.4' --file 10/postgis-2.4/Dockerfile .
    docker pull 'nickblah/postgis:9.6.16-postgis-3.0.0' || true && docker build --pull --cache-from 'nickblah/postgis:9.6.16-postgis-3.0.0' --tag 'nickblah/postgis:9.6.16-postgis-3.0.0' --tag 'nickblah/postgis:9.6.16-postgis-3.0' --tag 'nickblah/postgis:9.6.16-postgis-3' --tag 'nickblah/postgis:9.6-postgis-3.0.0' --tag 'nickblah/postgis:9.6-postgis-3.0' --tag 'nickblah/postgis:9.6-postgis-3' --tag 'nickblah/postgis:9-postgis-3.0.0' --tag 'nickblah/postgis:9-postgis-3.0' --tag 'nickblah/postgis:9-postgis-3' --file 9.6/postgis-3/Dockerfile .
    docker pull 'nickblah/postgis:9.6.16-postgis-2.5.3' || true && docker build --pull --cache-from 'nickblah/postgis:9.6.16-postgis-2.5.3' --tag 'nickblah/postgis:9.6.16-postgis-2.5.3' --tag 'nickblah/postgis:9.6.16-postgis-2.5' --tag 'nickblah/postgis:9.6.16-postgis-2' --tag 'nickblah/postgis:9.6-postgis-2.5.3' --tag 'nickblah/postgis:9.6-postgis-2.5' --tag 'nickblah/postgis:9.6-postgis-2' --tag 'nickblah/postgis:9-postgis-2.5.3' --tag 'nickblah/postgis:9-postgis-2.5' --tag 'nickblah/postgis:9-postgis-2' --file 9.6/postgis-2.5/Dockerfile .
    docker pull 'nickblah/postgis:9.6.16-postgis-2.4.4' || true && docker build --pull --cache-from 'nickblah/postgis:9.6.16-postgis-2.4.4' --tag 'nickblah/postgis:9.6.16-postgis-2.4.4' --tag 'nickblah/postgis:9.6.16-postgis-2.4' --tag 'nickblah/postgis:9.6-postgis-2.4.4' --tag 'nickblah/postgis:9.6-postgis-2.4' --tag 'nickblah/postgis:9-postgis-2.4.4' --tag 'nickblah/postgis:9-postgis-2.4' --file 9.6/postgis-2.4/Dockerfile .
    docker pull 'nickblah/postgis:9.6.16-postgis-2.3.3' || true && docker build --pull --cache-from 'nickblah/postgis:9.6.16-postgis-2.3.3' --tag 'nickblah/postgis:9.6.16-postgis-2.3.3' --tag 'nickblah/postgis:9.6.16-postgis-2.3' --tag 'nickblah/postgis:9.6-postgis-2.3.3' --tag 'nickblah/postgis:9.6-postgis-2.3' --tag 'nickblah/postgis:9-postgis-2.3.3' --tag 'nickblah/postgis:9-postgis-2.3' --file 9.6/postgis-2.3/Dockerfile .
    docker pull 'nickblah/postgis:9.5.20-postgis-3.0.0' || true && docker build --pull --cache-from 'nickblah/postgis:9.5.20-postgis-3.0.0' --tag 'nickblah/postgis:9.5.20-postgis-3.0.0' --tag 'nickblah/postgis:9.5.20-postgis-3.0' --tag 'nickblah/postgis:9.5.20-postgis-3' --tag 'nickblah/postgis:9.5-postgis-3.0.0' --tag 'nickblah/postgis:9.5-postgis-3.0' --tag 'nickblah/postgis:9.5-postgis-3' --file 9.5/postgis-3/Dockerfile .
    docker pull 'nickblah/postgis:9.5.20-postgis-2.5.3' || true && docker build --pull --cache-from 'nickblah/postgis:9.5.20-postgis-2.5.3' --tag 'nickblah/postgis:9.5.20-postgis-2.5.3' --tag 'nickblah/postgis:9.5.20-postgis-2.5' --tag 'nickblah/postgis:9.5.20-postgis-2' --tag 'nickblah/postgis:9.5-postgis-2.5.3' --tag 'nickblah/postgis:9.5-postgis-2.5' --tag 'nickblah/postgis:9.5-postgis-2' --file 9.5/postgis-2.5/Dockerfile .
    docker pull 'nickblah/postgis:9.5.20-postgis-2.4.4' || true && docker build --pull --cache-from 'nickblah/postgis:9.5.20-postgis-2.4.4' --tag 'nickblah/postgis:9.5.20-postgis-2.4.4' --tag 'nickblah/postgis:9.5.20-postgis-2.4' --tag 'nickblah/postgis:9.5-postgis-2.4.4' --tag 'nickblah/postgis:9.5-postgis-2.4' --file 9.5/postgis-2.4/Dockerfile .
    docker pull 'nickblah/postgis:9.5.20-postgis-2.3.3' || true && docker build --pull --cache-from 'nickblah/postgis:9.5.20-postgis-2.3.3' --tag 'nickblah/postgis:9.5.20-postgis-2.3.3' --tag 'nickblah/postgis:9.5.20-postgis-2.3' --tag 'nickblah/postgis:9.5-postgis-2.3.3' --tag 'nickblah/postgis:9.5-postgis-2.3' --file 9.5/postgis-2.3/Dockerfile .
    docker pull 'nickblah/postgis:9.4.25-postgis-2.5.3' || true && docker build --pull --cache-from 'nickblah/postgis:9.4.25-postgis-2.5.3' --tag 'nickblah/postgis:9.4.25-postgis-2.5.3' --tag 'nickblah/postgis:9.4.25-postgis-2.5' --tag 'nickblah/postgis:9.4.25-postgis-2' --tag 'nickblah/postgis:9.4-postgis-2.5.3' --tag 'nickblah/postgis:9.4-postgis-2.5' --tag 'nickblah/postgis:9.4-postgis-2' --file 9.4/postgis-2.5/Dockerfile .
    docker pull 'nickblah/postgis:9.4.25-postgis-2.4.4' || true && docker build --pull --cache-from 'nickblah/postgis:9.4.25-postgis-2.4.4' --tag 'nickblah/postgis:9.4.25-postgis-2.4.4' --tag 'nickblah/postgis:9.4.25-postgis-2.4' --tag 'nickblah/postgis:9.4-postgis-2.4.4' --tag 'nickblah/postgis:9.4-postgis-2.4' --file 9.4/postgis-2.4/Dockerfile .
    docker pull 'nickblah/postgis:9.4.25-postgis-2.3.3' || true && docker build --pull --cache-from 'nickblah/postgis:9.4.25-postgis-2.3.3' --tag 'nickblah/postgis:9.4.25-postgis-2.3.3' --tag 'nickblah/postgis:9.4.25-postgis-2.3' --tag 'nickblah/postgis:9.4-postgis-2.3.3' --tag 'nickblah/postgis:9.4-postgis-2.3' --file 9.4/postgis-2.3/Dockerfile .
