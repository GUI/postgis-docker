#!/usr/bin/env bash

set -Eeuxo pipefail

    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-16.0-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:16.0-postgis-3.4.0' --tag 'nickblah/postgis:16.0-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:16.0-postgis-3.4' --tag 'nickblah/postgis:16.0-postgis-3.4' --tag 'ghcr.io/gui/postgis:16.0-postgis-3' --tag 'nickblah/postgis:16.0-postgis-3' --tag 'ghcr.io/gui/postgis:16-postgis-3.4.0' --tag 'nickblah/postgis:16-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:16-postgis-3.4' --tag 'nickblah/postgis:16-postgis-3.4' --tag 'ghcr.io/gui/postgis:16-postgis-3' --tag 'nickblah/postgis:16-postgis-3' --tag 'ghcr.io/gui/postgis:16.0-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:16.0-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:16.0-bookworm-postgis-3.4' --tag 'nickblah/postgis:16.0-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:16.0-bookworm-postgis-3' --tag 'nickblah/postgis:16.0-bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:16-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:16-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:16-bookworm-postgis-3.4' --tag 'nickblah/postgis:16-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:16-bookworm-postgis-3' --tag 'nickblah/postgis:16-bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:bookworm-postgis-3.4.0' --tag 'nickblah/postgis:bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:bookworm-postgis-3.4' --tag 'nickblah/postgis:bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:bookworm-postgis-3' --tag 'nickblah/postgis:bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:latest' --tag 'nickblah/postgis:latest' \
      --file 16/bookworm/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-16.0-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:16.0-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16.0-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16.0-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16.0-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16.0-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16.0-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-bookworm-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-bookworm-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:bookworm-postgis-3-pgrouting-3.5.1' \
      --file 16/bookworm/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-16.0-bullseye-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:16.0-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:16.0-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:16.0-bullseye-postgis-3.4' --tag 'nickblah/postgis:16.0-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:16.0-bullseye-postgis-3' --tag 'nickblah/postgis:16.0-bullseye-postgis-3' --tag 'ghcr.io/gui/postgis:16-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:16-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:16-bullseye-postgis-3.4' --tag 'nickblah/postgis:16-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:16-bullseye-postgis-3' --tag 'nickblah/postgis:16-bullseye-postgis-3' --tag 'ghcr.io/gui/postgis:bullseye-postgis-3.4.0' --tag 'nickblah/postgis:bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:bullseye-postgis-3.4' --tag 'nickblah/postgis:bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:bullseye-postgis-3' --tag 'nickblah/postgis:bullseye-postgis-3' \
      --file 16/bullseye/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-16.0-bullseye-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:16.0-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16.0-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16.0-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16.0-bullseye-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:16-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:16-bullseye-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:bullseye-postgis-3-pgrouting-3.5.1' \
      --file 16/bullseye/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-15.4-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:15.4-postgis-3.4.0' --tag 'nickblah/postgis:15.4-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:15.4-postgis-3.4' --tag 'nickblah/postgis:15.4-postgis-3.4' --tag 'ghcr.io/gui/postgis:15.4-postgis-3' --tag 'nickblah/postgis:15.4-postgis-3' --tag 'ghcr.io/gui/postgis:15-postgis-3.4.0' --tag 'nickblah/postgis:15-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:15-postgis-3.4' --tag 'nickblah/postgis:15-postgis-3.4' --tag 'ghcr.io/gui/postgis:15-postgis-3' --tag 'nickblah/postgis:15-postgis-3' --tag 'ghcr.io/gui/postgis:15.4-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:15.4-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:15.4-bookworm-postgis-3.4' --tag 'nickblah/postgis:15.4-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:15.4-bookworm-postgis-3' --tag 'nickblah/postgis:15.4-bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:15-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:15-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:15-bookworm-postgis-3.4' --tag 'nickblah/postgis:15-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:15-bookworm-postgis-3' --tag 'nickblah/postgis:15-bookworm-postgis-3' \
      --file 15/bookworm/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-15.4-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:15.4-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15.4-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15.4-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15.4-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15.4-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15.4-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-bookworm-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-bookworm-postgis-3-pgrouting-3.5.1' \
      --file 15/bookworm/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-15.4-bullseye-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:15.4-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:15.4-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:15.4-bullseye-postgis-3.4' --tag 'nickblah/postgis:15.4-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:15.4-bullseye-postgis-3' --tag 'nickblah/postgis:15.4-bullseye-postgis-3' --tag 'ghcr.io/gui/postgis:15-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:15-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:15-bullseye-postgis-3.4' --tag 'nickblah/postgis:15-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:15-bullseye-postgis-3' --tag 'nickblah/postgis:15-bullseye-postgis-3' \
      --file 15/bullseye/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-15.4-bullseye-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:15.4-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15.4-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15.4-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15.4-bullseye-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:15-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:15-bullseye-postgis-3-pgrouting-3.5.1' \
      --file 15/bullseye/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-14.9-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:14.9-postgis-3.4.0' --tag 'nickblah/postgis:14.9-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:14.9-postgis-3.4' --tag 'nickblah/postgis:14.9-postgis-3.4' --tag 'ghcr.io/gui/postgis:14.9-postgis-3' --tag 'nickblah/postgis:14.9-postgis-3' --tag 'ghcr.io/gui/postgis:14-postgis-3.4.0' --tag 'nickblah/postgis:14-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:14-postgis-3.4' --tag 'nickblah/postgis:14-postgis-3.4' --tag 'ghcr.io/gui/postgis:14-postgis-3' --tag 'nickblah/postgis:14-postgis-3' --tag 'ghcr.io/gui/postgis:14.9-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:14.9-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:14.9-bookworm-postgis-3.4' --tag 'nickblah/postgis:14.9-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:14.9-bookworm-postgis-3' --tag 'nickblah/postgis:14.9-bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:14-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:14-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:14-bookworm-postgis-3.4' --tag 'nickblah/postgis:14-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:14-bookworm-postgis-3' --tag 'nickblah/postgis:14-bookworm-postgis-3' \
      --file 14/bookworm/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-14.9-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:14.9-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14.9-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14.9-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14.9-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14.9-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14.9-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-bookworm-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-bookworm-postgis-3-pgrouting-3.5.1' \
      --file 14/bookworm/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-14.9-bullseye-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:14.9-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:14.9-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:14.9-bullseye-postgis-3.4' --tag 'nickblah/postgis:14.9-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:14.9-bullseye-postgis-3' --tag 'nickblah/postgis:14.9-bullseye-postgis-3' --tag 'ghcr.io/gui/postgis:14-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:14-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:14-bullseye-postgis-3.4' --tag 'nickblah/postgis:14-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:14-bullseye-postgis-3' --tag 'nickblah/postgis:14-bullseye-postgis-3' \
      --file 14/bullseye/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-14.9-bullseye-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:14.9-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14.9-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14.9-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14.9-bullseye-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:14-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:14-bullseye-postgis-3-pgrouting-3.5.1' \
      --file 14/bullseye/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-13.12-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:13.12-postgis-3.4.0' --tag 'nickblah/postgis:13.12-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:13.12-postgis-3.4' --tag 'nickblah/postgis:13.12-postgis-3.4' --tag 'ghcr.io/gui/postgis:13.12-postgis-3' --tag 'nickblah/postgis:13.12-postgis-3' --tag 'ghcr.io/gui/postgis:13-postgis-3.4.0' --tag 'nickblah/postgis:13-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:13-postgis-3.4' --tag 'nickblah/postgis:13-postgis-3.4' --tag 'ghcr.io/gui/postgis:13-postgis-3' --tag 'nickblah/postgis:13-postgis-3' --tag 'ghcr.io/gui/postgis:13.12-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:13.12-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:13.12-bookworm-postgis-3.4' --tag 'nickblah/postgis:13.12-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:13.12-bookworm-postgis-3' --tag 'nickblah/postgis:13.12-bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:13-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:13-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:13-bookworm-postgis-3.4' --tag 'nickblah/postgis:13-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:13-bookworm-postgis-3' --tag 'nickblah/postgis:13-bookworm-postgis-3' \
      --file 13/bookworm/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-13.12-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:13.12-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13.12-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13.12-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13.12-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13.12-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13.12-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-bookworm-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-bookworm-postgis-3-pgrouting-3.5.1' \
      --file 13/bookworm/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-13.12-bullseye-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:13.12-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:13.12-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:13.12-bullseye-postgis-3.4' --tag 'nickblah/postgis:13.12-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:13.12-bullseye-postgis-3' --tag 'nickblah/postgis:13.12-bullseye-postgis-3' --tag 'ghcr.io/gui/postgis:13-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:13-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:13-bullseye-postgis-3.4' --tag 'nickblah/postgis:13-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:13-bullseye-postgis-3' --tag 'nickblah/postgis:13-bullseye-postgis-3' \
      --file 13/bullseye/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-13.12-bullseye-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:13.12-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13.12-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13.12-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13.12-bullseye-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:13-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:13-bullseye-postgis-3-pgrouting-3.5.1' \
      --file 13/bullseye/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-12.16-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:12.16-postgis-3.4.0' --tag 'nickblah/postgis:12.16-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:12.16-postgis-3.4' --tag 'nickblah/postgis:12.16-postgis-3.4' --tag 'ghcr.io/gui/postgis:12.16-postgis-3' --tag 'nickblah/postgis:12.16-postgis-3' --tag 'ghcr.io/gui/postgis:12-postgis-3.4.0' --tag 'nickblah/postgis:12-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:12-postgis-3.4' --tag 'nickblah/postgis:12-postgis-3.4' --tag 'ghcr.io/gui/postgis:12-postgis-3' --tag 'nickblah/postgis:12-postgis-3' --tag 'ghcr.io/gui/postgis:12.16-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:12.16-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:12.16-bookworm-postgis-3.4' --tag 'nickblah/postgis:12.16-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:12.16-bookworm-postgis-3' --tag 'nickblah/postgis:12.16-bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:12-bookworm-postgis-3.4.0' --tag 'nickblah/postgis:12-bookworm-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:12-bookworm-postgis-3.4' --tag 'nickblah/postgis:12-bookworm-postgis-3.4' --tag 'ghcr.io/gui/postgis:12-bookworm-postgis-3' --tag 'nickblah/postgis:12-bookworm-postgis-3' \
      --file 12/bookworm/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-12.16-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:12.16-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12.16-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12.16-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12.16-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12.16-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12.16-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-bookworm-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-bookworm-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-bookworm-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-bookworm-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-bookworm-postgis-3-pgrouting-3.5.1' \
      --file 12/bookworm/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-12.16-bullseye-postgis-3.4.0' \
      --tag 'ghcr.io/gui/postgis:12.16-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:12.16-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:12.16-bullseye-postgis-3.4' --tag 'nickblah/postgis:12.16-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:12.16-bullseye-postgis-3' --tag 'nickblah/postgis:12.16-bullseye-postgis-3' --tag 'ghcr.io/gui/postgis:12-bullseye-postgis-3.4.0' --tag 'nickblah/postgis:12-bullseye-postgis-3.4.0' --tag 'ghcr.io/gui/postgis:12-bullseye-postgis-3.4' --tag 'nickblah/postgis:12-bullseye-postgis-3.4' --tag 'ghcr.io/gui/postgis:12-bullseye-postgis-3' --tag 'nickblah/postgis:12-bullseye-postgis-3' \
      --file 12/bullseye/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-12.16-bullseye-postgis-3.4.0-pgrouting-3.5.1' \
      --tag 'ghcr.io/gui/pgrouting:12.16-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12.16-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12.16-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12.16-bullseye-postgis-3-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-bullseye-postgis-3.4.0-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-bullseye-postgis-3.4-pgrouting-3.5.1' --tag 'ghcr.io/gui/pgrouting:12-bullseye-postgis-3-pgrouting-3.5.1' --tag 'nickblah/pgrouting:12-bullseye-postgis-3-pgrouting-3.5.1' \
      --file 12/bullseye/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-11.21-bookworm-postgis-3.3.4' \
      --tag 'ghcr.io/gui/postgis:11.21-bookworm-postgis-3.3.4' --tag 'nickblah/postgis:11.21-bookworm-postgis-3.3.4' --tag 'ghcr.io/gui/postgis:11.21-bookworm-postgis-3.3' --tag 'nickblah/postgis:11.21-bookworm-postgis-3.3' --tag 'ghcr.io/gui/postgis:11.21-bookworm-postgis-3' --tag 'nickblah/postgis:11.21-bookworm-postgis-3' --tag 'ghcr.io/gui/postgis:11-bookworm-postgis-3.3.4' --tag 'nickblah/postgis:11-bookworm-postgis-3.3.4' --tag 'ghcr.io/gui/postgis:11-bookworm-postgis-3.3' --tag 'nickblah/postgis:11-bookworm-postgis-3.3' --tag 'ghcr.io/gui/postgis:11-bookworm-postgis-3' --tag 'nickblah/postgis:11-bookworm-postgis-3' \
      --file 11/bookworm/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-11.21-bookworm-postgis-3.3.4-pgrouting-3.5.0' \
      --tag 'ghcr.io/gui/pgrouting:11.21-bookworm-postgis-3.3.4-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11.21-bookworm-postgis-3.3.4-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11.21-bookworm-postgis-3.3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11.21-bookworm-postgis-3.3-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11.21-bookworm-postgis-3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11.21-bookworm-postgis-3-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11-bookworm-postgis-3.3.4-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11-bookworm-postgis-3.3.4-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11-bookworm-postgis-3.3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11-bookworm-postgis-3.3-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11-bookworm-postgis-3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11-bookworm-postgis-3-pgrouting-3.5.0' \
      --file 11/bookworm/postgis-3-pgrouting-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/postgis:build-cache-11.21-bullseye-postgis-3.3.4' \
      --tag 'ghcr.io/gui/postgis:11.21-bullseye-postgis-3.3.4' --tag 'nickblah/postgis:11.21-bullseye-postgis-3.3.4' --tag 'ghcr.io/gui/postgis:11.21-bullseye-postgis-3.3' --tag 'nickblah/postgis:11.21-bullseye-postgis-3.3' --tag 'ghcr.io/gui/postgis:11.21-bullseye-postgis-3' --tag 'nickblah/postgis:11.21-bullseye-postgis-3' --tag 'ghcr.io/gui/postgis:11-bullseye-postgis-3.3.4' --tag 'nickblah/postgis:11-bullseye-postgis-3.3.4' --tag 'ghcr.io/gui/postgis:11-bullseye-postgis-3.3' --tag 'nickblah/postgis:11-bullseye-postgis-3.3' --tag 'ghcr.io/gui/postgis:11-bullseye-postgis-3' --tag 'nickblah/postgis:11-bullseye-postgis-3' \
      --file 11/bullseye/postgis-3/Dockerfile \
      .
    docker buildx build \
      --platform 'linux/amd64,linux/arm64' \
      --push \
      --cache-from 'type=registry,ref=ghcr.io/gui/pgrouting:build-cache-11.21-bullseye-postgis-3.3.4-pgrouting-3.5.0' \
      --tag 'ghcr.io/gui/pgrouting:11.21-bullseye-postgis-3.3.4-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11.21-bullseye-postgis-3.3.4-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11.21-bullseye-postgis-3.3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11.21-bullseye-postgis-3.3-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11.21-bullseye-postgis-3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11.21-bullseye-postgis-3-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11-bullseye-postgis-3.3.4-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11-bullseye-postgis-3.3.4-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11-bullseye-postgis-3.3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11-bullseye-postgis-3.3-pgrouting-3.5.0' --tag 'ghcr.io/gui/pgrouting:11-bullseye-postgis-3-pgrouting-3.5.0' --tag 'nickblah/pgrouting:11-bullseye-postgis-3-pgrouting-3.5.0' \
      --file 11/bullseye/postgis-3-pgrouting-3/Dockerfile \
      .
